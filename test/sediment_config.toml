# This is an example TOML configuration file. It is used to test the wflow configuration
# features, and can also be used to work towards an example of what we want the
# configuration file to look like.
# Relative file paths are interpreted as being relative to this TOML file.
# TOML documentation: https://github.com/toml-lang/toml

casename = "testcase"

calendar = "proleptic_gregorian" 
endtime = 2000-01-03T00:00:00 
starttime = 2000-01-01T00:00:00 
time_units = "days since 1900-01-01 00:00:00" 
timestepsecs = 86400 

[state]
path_input = "data/instates-moselle-sed.nc" 
path_output = "data/outstates-moselle-sed.nc"

# if listed, the variable must be present in the NetCDF or error
# if not listed, the variable can get a default value if it has one

[state.lateral.river]
clayload = "clayload"
siltload = "siltload"
sandload = "sandload"
saggload = "saggload"
laggload = "laggload"
gravload = "gravload"
claystore = "claystore"
siltstore = "siltstore"
sandstore = "sandstore"
saggstore = "saggstore"
laggstore = "laggstore"
gravstore = "gravstore"
outclay = "outclay"
outsilt = "outsilt"
outsand = "outsand"
outsagg = "outsagg"
outlagg = "outlagg"
outgrav = "outgrav"

[input]
path_forcing = "data/forcing-moselle-sed.nc"
path_static = "data/staticmaps-moselle-sed.nc"

# these are not directly part of the model
gauges = "wflow_gauges"
ldd = "wflow_ldd"
river_location = "wflow_river"
subcatchment = "wflow_subcatch"

# specify the internal IDs of the parameters which vary over time
# the external name mapping needs to be below together with the other mappings
forcing = [
  "vertical.h_land",
  "vertical.interception",
  "vertical.precipitation",
  "vertical.q_land",
  "lateral.land.h_riv",
  "lateral.land.q_riv",
]

cyclic = ["vertical.leaf_area_index"]

[input.vertical]
altitude = "wflow_dem" 
canopyheight = "CanopyHeight"
erosk = "ErosK"
erosspl = "eros_spl_EUROSEM"
erosov = "eros_ov"
h_land = "levKinL" # forcing
interception = "int" # forcing
kext = "Kext"
leaf_area_index = "LAI" # cyclic 
pathfrac = "PathFrac" 
precipitation = "P" # forcing
q_land = "runL" # forcing
slope = "Slope"
specific_leaf = "Sl" 
storage_wood = "Swood" 
usleC = "USLE_C"
usleK = "USLE_K"
pclay = "PercentClay"
psilt = "PercentSilt"
rivcell = "wflow_river"
# Reservoir
resareas = "wflow_reservoirareas"
# Lake
lakeareas = "wflow_lakeareas"

[input.lateral.land]
slope = "Slope"
h_riv = "h" # forcing
q_riv = "q" # forcing

[input.lateral.river]
cbagnold = "c_Bagnold"
d50 = "D50_River"
d50engelund = "D50_River"
ebagnold = "exp_Bagnold"
fclayriv = "ClayF_River"
fsiltriv = "SiltF_River"
fsandriv = "SandF_River"
fgravriv = "GravelF_River"
length = "wflow_riverlength"
slope = "RiverSlope"
width = "wflow_riverwidth"
# Reservoir
resarea = "ResSimpleArea"
resareas = "wflow_reservoirareas"
reslocs = "wflow_reservoirlocs"
# Lake
lakearea = "LakeArea"
lakeareas = "wflow_lakeareas"
lakelocs = "wflow_lakelocs"

[model]
reinit = true
runrivermodel = true
doreservoir = true
dolake = false
rainerosmethod = "answers" # Rainfall erosion equation: ["answers", "eurosem"]
landtransportmethod = "yalinpart" # Overland flow transport capacity method: ["yalinpart", "govers", "yalin"]
rivtransportmethod = "bagnold" # River flow transport capacity method: ["bagnold", "engelund", "yang", "kodatie", "molinas"]

[output]
path = "data/output-moselle-sed.nc"

[output.vertical]
sedspl = "sedspl"
sedov = "sedov"
soilloss = "soilloss"
erosclay = "erosclay"
TCclay = "TCclay"
TCsed = "TCsed"
precipitation = "prec"
pathfrac = "pathfrac"

[output.lateral.land]
olsed = "olsed"
olclay = "olclay"
inlandsed = "inlandsed"
inlandclay = "inlandclay"

[output.lateral.river]
Sedconc = "Sedconc"
SSconc = "SSconc"
Bedconc = "Bedconc"
clayload = "clayload"
inlandclay = "inlandclayriv"
outclay = "outclay"
h_riv = "h_riv"
width = "widthriv"

[csv]
path = "data/output-moselle-sed.csv"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "SL"
parameter = "vertical.soilloss"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "SSPL"
parameter = "vertical.sedspl"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "SOV"
parameter = "vertical.sedov"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "P"
parameter = "vertical.precipitation"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "ql"
parameter = "vertical.q_land"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "TCsed"
parameter = "vertical.TCsed"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "TCclay"
parameter = "vertical.TCclay"

[[csv.column]]
coordinate.x = 6.931
coordinate.y = 48.085
header = "inlandsed"
parameter = "lateral.land.inlandsed"