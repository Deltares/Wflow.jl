<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Wflow.jl</title><link rel="canonical" href="https://deltares.github.io/Wflow.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Wflow.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Deltares/Wflow.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Wflow"><a class="docs-heading-anchor" href="#Wflow">Wflow</a><a id="Wflow-1"></a><a class="docs-heading-anchor-permalink" href="#Wflow" title="Permalink"></a></h1><p>This is an in development version of wflow, a continuation of the work available <a href="https://github.com/openstreams/wflow">here</a>. For now using this for any real calculations is not advised, please use the linked stable wflow release for that.   </p><ul><li><a href="#Wflow.pcrdir"><code>Wflow.pcrdir</code></a></li><li><a href="#Wflow.Config"><code>Wflow.Config</code></a></li><li><a href="#Wflow.active_indices-Tuple{AbstractArray{T,2} where T,Any}"><code>Wflow.active_indices</code></a></li><li><a href="#Wflow.acttransp_unsat_sbm"><code>Wflow.acttransp_unsat_sbm</code></a></li><li><a href="#Wflow.add_time-Tuple{Any,Any}"><code>Wflow.add_time</code></a></li><li><a href="#Wflow.close_files-Tuple{Any}"><code>Wflow.close_files</code></a></li><li><a href="#Wflow.csv_header-Tuple{Any,Any,Any}"><code>Wflow.csv_header</code></a></li><li><a href="#Wflow.detdrainlength-Tuple{Any,Any,Any}"><code>Wflow.detdrainlength</code></a></li><li><a href="#Wflow.detdrainwidth-Tuple{Any,Any,Any}"><code>Wflow.detdrainwidth</code></a></li><li><a href="#Wflow.equal_size_vectors-Tuple{Any}"><code>Wflow.equal_size_vectors</code></a></li><li><a href="#Wflow.flat!-Tuple{Any,Any,Dict}"><code>Wflow.flat!</code></a></li><li><a href="#Wflow.flowgraph-Tuple{AbstractArray{T,1} where T,AbstractArray{T,1} where T,AbstractArray{T,1} where T}"><code>Wflow.flowgraph</code></a></li><li><a href="#Wflow.fraction_runoff_toriver-NTuple{5,Any}"><code>Wflow.fraction_runoff_toriver</code></a></li><li><a href="#Wflow.get_at!-Tuple{Any,NCDatasets.CFVariable,AbstractArray{var&quot;#s13&quot;,1} where var&quot;#s13&quot;&lt;:Dates.TimeType,Dates.TimeType}"><code>Wflow.get_at!</code></a></li><li><a href="#Wflow.glacier_hbv-NTuple{8,Any}"><code>Wflow.glacier_hbv</code></a></li><li><a href="#Wflow.infiltration-Tuple{Any,Any,Any,Any,Any,Any,Any,Bool,Bool}"><code>Wflow.infiltration</code></a></li><li><a href="#Wflow.initialize_hbv_model-Tuple{Wflow.Config}"><code>Wflow.initialize_hbv_model</code></a></li><li><a href="#Wflow.initialize_sbm_model-Tuple{Wflow.Config}"><code>Wflow.initialize_sbm_model</code></a></li><li><a href="#Wflow.initialize_storage-NTuple{4,Any}"><code>Wflow.initialize_storage</code></a></li><li><a href="#Wflow.kin_wave!-NTuple{9,Any}"><code>Wflow.kin_wave!</code></a></li><li><a href="#Wflow.kinematic_wave-NTuple{7,Any}"><code>Wflow.kinematic_wave</code></a></li><li><a href="#Wflow.ncread-Tuple{Any,Any}"><code>Wflow.ncread</code></a></li><li><a href="#Wflow.param-Tuple{Any,Any}"><code>Wflow.param</code></a></li><li><a href="#Wflow.pow-Tuple{Any,Any}"><code>Wflow.pow</code></a></li><li><a href="#Wflow.rainfall_interception_gash-NTuple{5,Any}"><code>Wflow.rainfall_interception_gash</code></a></li><li><a href="#Wflow.rainfall_interception_modrut-NTuple{5,Any}"><code>Wflow.rainfall_interception_modrut</code></a></li><li><a href="#Wflow.reducer-NTuple{7,Any}"><code>Wflow.reducer</code></a></li><li><a href="#Wflow.reducerfunction-Tuple{AbstractString}"><code>Wflow.reducerfunction</code></a></li><li><a href="#Wflow.run_simulation-Tuple{Any}"><code>Wflow.run_simulation</code></a></li><li><a href="#Wflow.scurve-Tuple{Any}"><code>Wflow.scurve</code></a></li><li><a href="#Wflow.set_layerthickness-Tuple{Float64,StaticArrays.SArray{Tuple{S},T,1,S} where T where S,StaticArrays.SArray{Tuple{S},T,1,S} where T where S}"><code>Wflow.set_layerthickness</code></a></li><li><a href="#Wflow.set_states-NTuple{5,Any}"><code>Wflow.set_states</code></a></li><li><a href="#Wflow.setup_netcdf-NTuple{7,Any}"><code>Wflow.setup_netcdf</code></a></li><li><a href="#Wflow.snowpack_hbv-NTuple{9,Any}"><code>Wflow.snowpack_hbv</code></a></li><li><a href="#Wflow.statevars"><code>Wflow.statevars</code></a></li><li><a href="#Wflow.sum_at-Tuple{Any,Any}"><code>Wflow.sum_at</code></a></li><li><a href="#Wflow.symbols-Tuple{Any}"><code>Wflow.symbols</code></a></li><li><a href="#Wflow.timecycles-Tuple{Any}"><code>Wflow.timecycles</code></a></li><li><a href="#Wflow.unsatzone_flow_layer-NTuple{4,Any}"><code>Wflow.unsatzone_flow_layer</code></a></li><li><a href="#Wflow.unsatzone_flow_sbm-NTuple{7,Any}"><code>Wflow.unsatzone_flow_sbm</code></a></li><li><a href="#Wflow.update-Tuple{Wflow.NaturalLake,Any,Any,Any,Any}"><code>Wflow.update</code></a></li><li><a href="#Wflow.update-Tuple{Wflow.SimpleReservoir,Any,Any,Any}"><code>Wflow.update</code></a></li><li><a href="#Wflow.update_cyclic!-Tuple{Any}"><code>Wflow.update_cyclic!</code></a></li><li><a href="#Wflow.update_forcing!-Tuple{Any}"><code>Wflow.update_forcing!</code></a></li><li><a href="#Wflow.write_output-Tuple{Any,Wflow.Writer}"><code>Wflow.write_output</code></a></li><li><a href="#Wflow.@symbols_str-Tuple{Any}"><code>Wflow.@symbols_str</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Wflow.pcrdir" href="#Wflow.pcrdir"><code>Wflow.pcrdir</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Map from PCRaster LDD value to a CartesianIndex</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL2">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.Config" href="#Wflow.Config"><code>Wflow.Config</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Parsed TOML configuration</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.active_indices-Tuple{AbstractArray{T,2} where T,Any}" href="#Wflow.active_indices-Tuple{AbstractArray{T,2} where T,Any}"><code>Wflow.active_indices</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">active_indices(subcatch_2d, nodata)</code></pre><p>Takes a 2D array of the subcatchments. And derive forward and reverse indices.</p><p>1: Get a list of <code>CartesianIndex{2}</code>` that are active, based on a nodata value. These map from the 1D internal domain to the 2D external domain.</p><p>2: Make a reverse index, a <code>Matrix{Int}</code>`, which maps from the 2D external domain to the 1D internal domain, providing an Int which can be used as a linear index. Values of 0 represent inactive cells.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL23-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.acttransp_unsat_sbm" href="#Wflow.acttransp_unsat_sbm"><code>Wflow.acttransp_unsat_sbm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">acttransp_unsat_sbm(rootingdepth, ustorelayerdepth, sumlayer, restpotevap, sum_actevapustore, c, usl, θₛ, θᵣ, hb, ust::Bool = false)</code></pre><p>Compute actual transpiration for unsaturated zone. If <code>ust</code> is <code>true</code>, the whole unsaturated store is available for transpiration.</p><p><strong>Arguments</strong></p><ul><li><code>rootingdepth</code></li><li><code>ustorelayerdepth</code></li><li><code>sumlayer</code> (depth (z) of upper boundary unsaturated layer)</li><li><code>restpotevap</code> (remaining evaporation)</li><li><code>sum_actevapustore</code> (cumulative actual transpiration (more than one unsaturated layers))</li><li><code>c</code> (Brooks-Corey coefficient)</li><li><code>usl</code> (thickness of unsaturated zone)</li><li><code>θₛ</code></li><li><code>θᵣ</code></li><li><code>hb</code> (air entry pressure)</li><li><code>ust</code></li></ul><p><strong>Output</strong></p><ul><li><code>ustorelayerdepth</code></li><li><code>sum_actevapustore</code></li><li><code>restpotevap</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL124-L147">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.add_time-Tuple{Any,Any}" href="#Wflow.add_time-Tuple{Any,Any}"><code>Wflow.add_time</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add a new time to the unlimited time dimension, and return the index</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL241">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.close_files-Tuple{Any}" href="#Wflow.close_files-Tuple{Any}"><code>Wflow.close_files</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Close input and output datasets that are opened on model initialization</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL589">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.csv_header-Tuple{Any,Any,Any}" href="#Wflow.csv_header-Tuple{Any,Any,Any}"><code>Wflow.csv_header</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get a Vector{String} of all columns names for the CSV header, exept the first, time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL353">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.detdrainlength-Tuple{Any,Any,Any}" href="#Wflow.detdrainlength-Tuple{Any,Any,Any}"><code>Wflow.detdrainlength</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">detdrainlength(ldd, xl, yl)</code></pre><p>Determines the drainaige length for a non square grid. Input <code>ldd</code> (drainage network), <code>xl</code> (length of cells in x direction), <code>yl</code> (length of cells in y direction). Output is drainage length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL223-L228">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.detdrainwidth-Tuple{Any,Any,Any}" href="#Wflow.detdrainwidth-Tuple{Any,Any,Any}"><code>Wflow.detdrainwidth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">detdrainwidth(ldd, xl, yl)</code></pre><p>Determines the drainaige width for a non square grid. Input <code>ldd</code> (drainage network), <code>xl</code> (length of cells in x direction), <code>yl</code> (length of cells in y direction). Output is drainage width.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL242-L247">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.equal_size_vectors-Tuple{Any}" href="#Wflow.equal_size_vectors-Tuple{Any}"><code>Wflow.equal_size_vectors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">equal_size_vectors(x)</code></pre><p>Used in the structs of arrays to ensure all vectors are of equal length.</p><p><code>equal_size_vectors(([1,2], [1,2,3]))</code> would throw an ArgumentError. <code>equal_size_vectors(([4,5], [4,5]))</code> would pass. <code>equal_size_vectors((1, [4,5], [4,5]))</code> would also pass, since <code>1</code> is not an AbstractVector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL301-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.flat!-Tuple{Any,Any,Dict}" href="#Wflow.flat!-Tuple{Any,Any,Dict}"><code>Wflow.flat!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Flatten a nested dictionary, keeping track of the full address of the keys. Useful for converting TOML of the format:</p><pre><code class="language-none">[a.b]
field_of_b = &quot;name_in_output&quot;

[a.d.c]
field_of_c = &quot;other_name_in_output&quot;</code></pre><p>to a non-nested format:</p><p>Dict(     symbols&quot;a.b.field<em>of</em>b&quot; =&gt; &quot;name<em>in</em>output,     symbols&quot;a.d.c.field<em>of</em>c&quot; =&gt; &quot;other<em>name</em>in_output, )</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL380-L396">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.flowgraph-Tuple{AbstractArray{T,1} where T,AbstractArray{T,1} where T,AbstractArray{T,1} where T}" href="#Wflow.flowgraph-Tuple{AbstractArray{T,1} where T,AbstractArray{T,1} where T,AbstractArray{T,1} where T}"><code>Wflow.flowgraph</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Convert a gridded drainage direction to a directed graph</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/horizontal_process.jl#LL1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.fraction_runoff_toriver-NTuple{5,Any}" href="#Wflow.fraction_runoff_toriver-NTuple{5,Any}"><code>Wflow.fraction_runoff_toriver</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fraction_runoff_toriver(graph, ldd, index_river, slope, n)</code></pre><p>Determine ratio <code>frac</code> between <code>slope</code> river cell <code>index_river</code> and <code>slope</code> of each upstream neighbor (based on directed acyclic graph <code>graph</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL282-L287">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.get_at!-Tuple{Any,NCDatasets.CFVariable,AbstractArray{var&quot;#s13&quot;,1} where var&quot;#s13&quot;&lt;:Dates.TimeType,Dates.TimeType}" href="#Wflow.get_at!-Tuple{Any,NCDatasets.CFVariable,AbstractArray{var&quot;#s13&quot;,1} where var&quot;#s13&quot;&lt;:Dates.TimeType,Dates.TimeType}"><code>Wflow.get_at!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Extract a NetCDF variable at a given time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.glacier_hbv-NTuple{8,Any}" href="#Wflow.glacier_hbv-NTuple{8,Any}"><code>Wflow.glacier_hbv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">glacier_hbv(glacierfrac, glacierstore, snow, temperature, tt, cfmax, g_sifrac, Δt)</code></pre><p>HBV-light type of glacier modelling. First, a fraction of the snowpack is converted into ice using the HBV-light model (fraction between 0.001-0.005 per day). Glacier melting is modelled using a temperature degree factor and only occurs if the snow cover &lt; 10 mm.</p><p><strong>Arguments</strong></p><ul><li><code>glacierFrac</code> fraction covered by glaciers [-]</li><li><code>glacierstore</code> volume of the glacier [mm] w.e.</li><li><code>snow</code> snow pack on top of glacier [mm]</li><li><code>temperature</code> air temperature [°C]</li><li><code>tt</code> temperature threshold for ice melting [°C]</li><li><code>cfmax</code> ice degree-day factor in [mm/(°C/day)]</li><li><code>g_sifrac</code> fraction of the snow turned into ice [-]</li><li><code>Δt</code> model timestep [s]</li></ul><p><strong>Output</strong></p><ul><li><code>snow</code></li><li><code>snow2glacier</code></li><li><code>glacierstore</code></li><li><code>glaciermelt</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL393-L418">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.infiltration-Tuple{Any,Any,Any,Any,Any,Any,Any,Bool,Bool}" href="#Wflow.infiltration-Tuple{Any,Any,Any,Any,Any,Any,Any,Bool,Bool}"><code>Wflow.infiltration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">infiltration(avail_forinfilt, pathfrac, cf_soil, tsoil, infiltcapsoil, infiltcappath, ustorecapacity, modelsnow::Bool, soilinfreduction::Bool)</code></pre><p>Soil infiltration based on infiltration capacity soil <code>infiltcapsoil</code>, infiltration capacity compacted area <code>infiltcappath</code> and capacity unsatured zone <code>ustorecapacity</code>. The soil infiltration capacity can be adjusted in case the soil is frozen (<code>modelsnow</code> and <code>soilinfreduction</code> is <code>true</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL217-L224">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.initialize_hbv_model-Tuple{Wflow.Config}" href="#Wflow.initialize_hbv_model-Tuple{Wflow.Config}"><code>Wflow.initialize_hbv_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">initialize_hbv_model(config::Config)</code></pre><p>Initial part of the SBM model concept. Reads the input settings and data as defined in the Config object. Will return a Model that is ready to run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/hbv_model.jl#LL1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.initialize_sbm_model-Tuple{Wflow.Config}" href="#Wflow.initialize_sbm_model-Tuple{Wflow.Config}"><code>Wflow.initialize_sbm_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">initialize_sbm_model(config::Config)</code></pre><p>Initial part of the SBM model concept. Reads the input settings and data as defined in the Config object. Will return a Model that is ready to run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/sbm_model.jl#LL1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.initialize_storage-NTuple{4,Any}" href="#Wflow.initialize_storage-NTuple{4,Any}"><code>Wflow.initialize_storage</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Determine the initial storage depending on the storage function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/reservoir_lake.jl#LL345">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.kin_wave!-NTuple{9,Any}" href="#Wflow.kin_wave!-NTuple{9,Any}"><code>Wflow.kin_wave!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Kinematic wave flow rate over the whole network for a single timestep</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/horizontal_process.jl#LL57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.kinematic_wave-NTuple{7,Any}" href="#Wflow.kinematic_wave-NTuple{7,Any}"><code>Wflow.kinematic_wave</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Kinematic wave flow rate for a single cell and timestep</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/horizontal_process.jl#LL22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.ncread-Tuple{Any,Any}" href="#Wflow.ncread-Tuple{Any,Any}"><code>Wflow.ncread</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ncread(nc, var; &lt;keyword arguments&gt;)</code></pre><p>Read parameter <code>var</code> from NetCDF file <code>nc</code>. Supports various keyword arguments to get selections of data in desired types, with or without missing values.</p><p><strong>Arguments</strong></p><ul><li><code>key=identity</code>: <code>key</code> is a function which maps <code>var</code> to the name of the parameter in the       NetCDF file. The default <code>identity</code> keeps <code>var</code> as is.</li><li><code>sel=nothing</code>: a selection of indices, such as a <code>Vector{CartesianIndex}</code> of active cells,       to return from the NetCDF. By default all cells are returned.</li><li><code>defaults=nothing</code>: a dictionary in which default values are looked up if <code>var</code> is not       in <code>nc</code>. By default it gives an error in this case.</li><li><code>type=nothing</code>: type to convert data to after reading. By default no conversion is done.</li><li><code>allow_missing=false</code>: Missing values within <code>sel</code> is not allowed by default. Set to       <code>true</code> to allow missing values.</li><li><code>fill=nothing</code>: Missing values are replaced by this fill value if <code>allow_missing</code> is <code>false</code>.</li><li><code>dimname</code> : name of third dimension of parameter <code>var</code>. By default no third dimension is expected.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL124-L142">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.param-Tuple{Any,Any}" href="#Wflow.param-Tuple{Any,Any}"><code>Wflow.param</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get a nested field using a tuple of Symbols</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.pow-Tuple{Any,Any}" href="#Wflow.pow-Tuple{Any,Any}"><code>Wflow.pow</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Faster method for exponentiation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL263">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.rainfall_interception_gash-NTuple{5,Any}" href="#Wflow.rainfall_interception_gash-NTuple{5,Any}"><code>Wflow.rainfall_interception_gash</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rainfall_interception_gash(cmax, e_r, canopygapfraction, precipitation, canopystorage;maxevap = 9999.0)</code></pre><p>Interception according to the Gash model (for daily timesteps). <code>cmax</code> is the maximum canopy storage and <code>e_r</code> is the ratio of the average evaporation from the wet canopy and the average precipitation intensity on a saturated canopy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL18-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.rainfall_interception_modrut-NTuple{5,Any}" href="#Wflow.rainfall_interception_modrut-NTuple{5,Any}"><code>Wflow.rainfall_interception_modrut</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rainfall_interception_modrut(precipitation, potential_evaporation, canopystorage, canopygapfraction, cmax)</code></pre><p>Interception according to a modified Rutter model. The model is solved explicitly and there is no drainage below <code>cmax</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL74-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.reducer-NTuple{7,Any}" href="#Wflow.reducer-NTuple{7,Any}"><code>Wflow.reducer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get a reducer function based on CSV output settings defined in a dictionary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL623">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.reducerfunction-Tuple{AbstractString}" href="#Wflow.reducerfunction-Tuple{AbstractString}"><code>Wflow.reducerfunction</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Mapping from reducer strings in the TOML to functions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL607">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.run_simulation-Tuple{Any}" href="#Wflow.run_simulation-Tuple{Any}"><code>Wflow.run_simulation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">run_simulation(tomlpath::String)
run_simulation(config::Config)
run_simulation(model::Model)</code></pre><p>Run an entire simulation starting either from a path to a TOML settings file, a prepared <code>Config</code> object, or an initialized <code>Model</code> object. This allows more flexibility if you want to for example modify a <code>Config</code> before initializing the <code>Model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/Wflow.jl#LL45-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.scurve-Tuple{Any}" href="#Wflow.scurve-Tuple{Any}"><code>Wflow.scurve</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">scurve(x; a = 0.0, b = 1.0, c = 1.0)</code></pre><p>Sigmoid &quot;S&quot;-shaped curve.</p><p><strong>Arguments</strong></p><ul><li><code>x::Real</code>: input</li><li><code>a::Real</code>: determines the centre level (default = 0.0)</li><li><code>b::Real</code>: determines the amplitude of the curve</li><li><code>c::Real</code>: determines the steepness or &quot;stepwiseness&quot; of the curve.            The higher c the sharper the function. A negative c reverses the function.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.set_layerthickness-Tuple{Float64,StaticArrays.SArray{Tuple{S},T,1,S} where T where S,StaticArrays.SArray{Tuple{S},T,1,S} where T where S}" href="#Wflow.set_layerthickness-Tuple{Float64,StaticArrays.SArray{Tuple{S},T,1,S} where T where S,StaticArrays.SArray{Tuple{S},T,1,S} where T where S}"><code>Wflow.set_layerthickness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_layerthickness(d::Float64, sl::SVector)</code></pre><p>Calculate actual soil thickness of layers based on a reference depth (e.g. soil depth or water table depth) <code>d</code>, a SVector <code>sl</code> with cumulative soil depth starting at soil surface (0), and a SVector <code>tl</code> with actual thickness per soil layer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL201-L207">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.set_states-NTuple{5,Any}" href="#Wflow.set_states-NTuple{5,Any}"><code>Wflow.set_states</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_states(instate_path, model, states, sel, config ; &lt;keyword arguments&gt;)</code></pre><p>Read states contained in <code>Tuple</code> <code>states</code> from NetCDF file located in <code>instate_path</code>, and set states in  <code>model</code> object. Active cells are selected with <code>sel</code> (<code>Vector{CartesianIndex}</code>) from the NetCDF file. </p><p><strong>Arguments</strong></p><ul><li><code>type = nothing</code>: type to convert data to after reading. By default no conversion is done.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL64-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.setup_netcdf-NTuple{7,Any}" href="#Wflow.setup_netcdf-NTuple{7,Any}"><code>Wflow.setup_netcdf</code></a> — <span class="docstring-category">Method</span></header><section><div><p>prepare an output dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.snowpack_hbv-NTuple{9,Any}" href="#Wflow.snowpack_hbv-NTuple{9,Any}"><code>Wflow.snowpack_hbv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">snowpack_hbv(snow, snowwater, precipitation, temperature, tti, tt, ttm, cfmax, whc)</code></pre><p>HBV type snowpack modeling using a temperature degree factor. All correction factors (RFCF and SFCF) are set to 1. The refreezing efficiency factor is set to 0.05.</p><p><strong>Arguments</strong></p><ul><li><code>snow</code> (snow storage)</li><li><code>snowwater</code> (liquid water content in the snow pack)</li><li><code>precipitation</code> (throughfall + stemflow)</li><li><code>temperature</code></li><li><code>tti</code> (snowfall threshold interval length)</li><li><code>tt</code> (threshold temperature for snowfall)</li><li><code>ttm</code> (melting threshold)</li><li><code>cfmax</code> (degree day factor, rate of snowmelt)</li><li><code>whc</code> (Water holding capacity of snow)</li><li><code>rfcf</code> correction factor for rainfall</li><li><code>sfcf</code> correction factor for snowfall</li><li><code>cfr</code> refreeing efficiency constant in refreezing of freewater in snow</li></ul><p><strong>Output</strong></p><ul><li><code>snow</code></li><li><code>snowwater</code></li><li><code>snowmelt</code></li><li><code>rainfall</code> (precipitation that occurs as rainfall)</li><li><code>snowfall</code> (precipitation that occurs as snowfall)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL330-L357">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.statevars" href="#Wflow.statevars"><code>Wflow.statevars</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">statevars(::SBM; snow=false)
statevars(::LateralSSF)
statevars(::SurfaceFlow)
statevars(::NaturalLake)
statevars(::SimpleReservoir)</code></pre><p>Get a tuple of symbols representing the fields that are model states.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/reservoir_lake.jl#LL360-L368">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.sum_at-Tuple{Any,Any}" href="#Wflow.sum_at-Tuple{Any,Any}"><code>Wflow.sum_at</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the sum of the array <code>A</code> at indices <code>inds</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/utils.jl#LL266">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.symbols-Tuple{Any}" href="#Wflow.symbols-Tuple{Any}"><code>Wflow.symbols</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Turn &quot;a.aa.aaa&quot; into (:a, :aa, :aaa)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.timecycles-Tuple{Any}" href="#Wflow.timecycles-Tuple{Any}"><code>Wflow.timecycles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">timecycles(times)</code></pre><p>Given a vector of times, return a tuple of (month, day) for each time entry, to use as a cyclic time series that repeats every year. By using <code>monthday</code> rather than <code>dayofyear</code>, leap year offsets are avoided.</p><p>It can generate such a series from eiher TimeTypes given that the year is constant, or it will interpret integers as either months or days of year if possible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL552-L561">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.unsatzone_flow_layer-NTuple{4,Any}" href="#Wflow.unsatzone_flow_layer-NTuple{4,Any}"><code>Wflow.unsatzone_flow_layer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unsatzone_flow_layer(usd, kv_z, l_sat, c)</code></pre><p>Assuming a unit head gradient, the transfer of water from an unsaturated store layer <code>usd</code> is controlled by the vertical saturated hydraulic conductivity <code>kv_z</code> (bottom layer or water table), the effective saturation degree of the layer (ratio <code>usd</code> and <code>l_sat</code>), and a Brooks-Corey power coefficient <code>c</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL267-L273">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.unsatzone_flow_sbm-NTuple{7,Any}" href="#Wflow.unsatzone_flow_sbm-NTuple{7,Any}"><code>Wflow.unsatzone_flow_sbm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">unsatzone_flow_sbm(ustorelayerdepth, soilwatercapacity, satwaterdepth, kv_z, usl, θₛ, θᵣ)</code></pre><p>The transfer of water from the unsaturated store <code>ustorelayerdepth</code> to the saturated store <code>satwaterdepth</code> is controlled by the vertical saturated hydraulic conductivity <code>kv_z</code> at the water table and the ratio between <code>ustorelayerdepth</code> and the saturation deficit (<code>soilwatercapacity</code> minus <code>satwaterdepth</code>). This is the original Topog_SBM vertical transfer formulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/vertical_process.jl#LL297-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.update-Tuple{Wflow.NaturalLake,Any,Any,Any,Any}" href="#Wflow.update-Tuple{Wflow.NaturalLake,Any,Any,Any,Any}"><code>Wflow.update</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update a single lake at position <code>i</code>.</p><p>This is called from within the kinematic wave loop, therefore updating only for a single element rather than all at once.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/reservoir_lake.jl#LL385-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.update-Tuple{Wflow.SimpleReservoir,Any,Any,Any}" href="#Wflow.update-Tuple{Wflow.SimpleReservoir,Any,Any,Any}"><code>Wflow.update</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update a single reservoir at position <code>i</code>.</p><p>This is called from within the kinematic wave loop, therefore updating only for a single element rather than all at once.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/reservoir_lake.jl#LL127-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.update_cyclic!-Tuple{Any}" href="#Wflow.update_cyclic!-Tuple{Any}"><code>Wflow.update_cyclic!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get cyclic NetCDF input for the given time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.update_forcing!-Tuple{Any}" href="#Wflow.update_forcing!-Tuple{Any}"><code>Wflow.update_forcing!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get dynamic NetCDF input for the given time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.write_output-Tuple{Any,Wflow.Writer}" href="#Wflow.write_output-Tuple{Any,Wflow.Writer}"><code>Wflow.write_output</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Write model output</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL515">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Wflow.@symbols_str-Tuple{Any}" href="#Wflow.@symbols_str-Tuple{Any}"><code>Wflow.@symbols_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Turn symbols&quot;a.aa.aaa&quot; into (:a, :aa, :aaa)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Deltares/Wflow.jl/blob/1a32995d274bef3e03869fb2ca23210603ccd5a9/src/io.jl#LL11">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 2 October 2020 14:47">Friday 2 October 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
