<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model configurations · Wflow.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://deltares.github.io/Wflow.jl/model_docs/model_configurations/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Wflow.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Wflow.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../">About wflow</a></li><li><a class="tocitem" href="../../intro/use_cases/">Case studies</a></li><li><a class="tocitem" href="../../intro/publications/">Publications</a></li><li><a class="tocitem" href="../../changelog/">Changelog</a></li></ul></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../../user_guide/intro/">About the user guide</a></li><li><a class="tocitem" href="../../user_guide/install/">How to install</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">How to use wflow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../user_guide/step1_requirements/">Step 1: Understanding the requirements</a></li><li><a class="tocitem" href="../../user_guide/step2_settings_file/">Step 2: Preparing the settings file</a></li><li><a class="tocitem" href="../../user_guide/step3_input_data/">Step 3: Preparing the input data</a></li><li><a class="tocitem" href="../../user_guide/step4_running/">Step 4: Running a simulation</a></li><li><a class="tocitem" href="../../user_guide/step5_output/">Step 5: Analyzing the model output</a></li><li><a class="tocitem" href="../../user_guide/additional_options/">Additional wflow options</a></li><li><a class="tocitem" href="../../user_guide/sample_data/">Example models</a></li></ul></li><li><a class="tocitem" href="../../user_guide/model-setup/">Building a model from scratch</a></li></ul></li><li><span class="tocitem">Model documentation</span><ul><li><a class="tocitem" href="../intro/">About the model documentation</a></li><li class="is-active"><a class="tocitem" href>Model configurations</a><ul class="internal"><li><a class="tocitem" href="#wflow_sbm"><span>wflow_sbm</span></a></li><li><a class="tocitem" href="#config_sediment"><span>wflow_sediment</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Vertical concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../vertical/sbm/">SBM</a></li><li><a class="tocitem" href="../vertical/sediment/">Sediment</a></li><li><a class="tocitem" href="../shared_concepts/">Shared processes</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Lateral concepts</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../lateral/gwf/">Groundwater flow</a></li><li><a class="tocitem" href="../lateral/kinwave/">Kinematic wave</a></li><li><a class="tocitem" href="../lateral/local-inertial/">Local inertial</a></li><li><a class="tocitem" href="../lateral/waterbodies/">Reservoirs and Lakes</a></li><li><a class="tocitem" href="../lateral/sediment_flux/">Sediment flux</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Model parameters</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../params_vertical/">Parameters vertical concepts</a></li><li><a class="tocitem" href="../params_lateral/">Parameters lateral concepts</a></li><li><a class="tocitem" href="../structures/">Julia structures</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model documentation</a></li><li class="is-active"><a href>Model configurations</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model configurations</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Deltares/Wflow.jl/blob/master/docs/src/model_docs/model_configurations.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-configurations"><a class="docs-heading-anchor" href="#Model-configurations">Model configurations</a><a id="Model-configurations-1"></a><a class="docs-heading-anchor-permalink" href="#Model-configurations" title="Permalink"></a></h1><h2 id="wflow_sbm"><a class="docs-heading-anchor" href="#wflow_sbm">wflow_sbm</a><a id="wflow_sbm-1"></a><a class="docs-heading-anchor-permalink" href="#wflow_sbm" title="Permalink"></a></h2><p>Wflow_sbm represents hydrological models derived from the CQflow model (Köhler et al., 2006) that have the <a href="../vertical/sbm/#vert_sbm">SBM</a> vertical concept in common, but can have different lateral concepts that control how water is routed for example over the land or river domain. The soil part of SBM is largely based on the Topog_SBM model but has had considerable changes over time. Topog_SBM is specifically designed to simulate fast runoff processes in small catchments while the wflow_sbm model can be applied more widely. The main differences are for the vertical concept SBM of wflow_sbm:</p><ul><li>The unsaturated zone can be split-up in different layers</li><li>The addition of evapotranspiration losses</li><li>The addition of a capillary rise</li><li>The addition of water demand and allocation</li></ul><p>The water demand and allocation computations are supported by the wflow_sbm model configurations:</p><ul><li><a href="#config_sbm">SBM + Kinematic wave</a></li><li><a href="#config_sbm_gwf">SBM + Groundwater flow</a></li><li><a href="#config_sbm_gwf_lie_river">SBM + Local inertial river</a></li><li><a href="#config_sbm_gwf_lie_river_land">SBM + Local inertial river (1D) and land (2D)</a></li></ul><p>The vertical SBM concept is explained in more detail in the following section <a href="../vertical/sbm/#vert_sbm">SBM vertical concept</a>.</p><p>Topog_SBM uses an element network based on contour lines and trajectories for water routing. Wflow_sbm models differ in how the lateral components river, land, and subsurface are solved. Below the different wflow_sbm model configurations are described.</p><h3 id="config_sbm"><a class="docs-heading-anchor" href="#config_sbm">SBM + Kinematic wave</a><a id="config_sbm-1"></a><a class="docs-heading-anchor-permalink" href="#config_sbm" title="Permalink"></a></h3><p>For the lateral components of this wflow_sbm model water is routed over a D8 network, and the kinematic wave approach is used for river, overland and lateral subsurface flow. This is described in more detail in the section <a href="../lateral/kinwave/#kin_wave">Kinematic wave</a>.</p><p>An overview of the different processes and fluxes in the wflow_sbm model with the kinematic wave approach for river, overland and lateral subsurface flow:</p><p><img src="../../images/wflow_sbm_soil.png" alt="wflow_sbm model"/></p><p>Below the mapping for this wflow_sbm model (type <code>sbm</code>) to the vertical SBM concept (instance of <code>struct SBM</code>) and the different lateral concepts is presented. For an explanation about the type parameters between curly braces after the <code>struct</code> name see the section on the model parameters.</p><pre><code class="language-julia hljs">vertical =&gt; struct SBM{T,N,M}
lateral.subsurface =&gt; struct LateralSSF{T}
lateral.land =&gt; struct SurfaceFlow{T,R,L}
lateral.river =&gt; struct SurfaceFlow{T,R,L}
lateral.river.lake =&gt; struct NaturalLake{T} # optional
lateral.river.reservoir =&gt; struct SimpleReservoir{T} # optional</code></pre><h3 id="config_sbm_gwf"><a class="docs-heading-anchor" href="#config_sbm_gwf">SBM + Groundwater flow</a><a id="config_sbm_gwf-1"></a><a class="docs-heading-anchor-permalink" href="#config_sbm_gwf" title="Permalink"></a></h3><p>For river and overland flow the kinematic wave approach over a D8 network is used for this wflow_sbm model. For the subsurface domain, an unconfined aquifer with groundwater flow in four directions (adjacent cells) is used. This is described in more detail in the section <a href="../lateral/gwf/#lateral_gwf">Groundwater flow</a>.</p><pre><code class="language-toml hljs">[model]
type = &quot;sbm_gwf&quot;

[input.lateral.subsurface]
ksathorfrac = &quot;KsatHorFrac&quot;
conductivity = &quot;conductivity&quot;
specific_yield = &quot;specific_yield&quot;
exfiltration_conductance = &quot;exfilt_cond&quot;
infiltration_conductance = &quot;infilt_cond&quot;
river_bottom = &quot;river_bottom&quot;
conductivity_profile = &quot;exponential&quot;
gwf_f.value = 3.0</code></pre><p>Below the mapping for this wflow_sbm model (type <code>sbm_gwf</code>) to the vertical SBM concept (instance of <code>struct SBM</code>) and the different lateral concepts. For an explanation about the type parameters between curly braces after the <code>struct</code> name see the section on model parameters.</p><pre><code class="language-julia hljs">vertical =&gt; struct SBM{T,N,M}
lateral.subsurface.flow =&gt; struct GroundwaterFlow{A, B}
lateral.subsurface.recharge =&gt; struct Recharge{T} &lt;: AquiferBoundaryCondition
lateral.subsurface.river =&gt; struct River{T} &lt;: AquiferBoundaryCondition
lateral.subsurface.drain =&gt; struct Drainage{T} &lt;: AquiferBoundaryCondition # optional
lateral.land =&gt; struct SurfaceFlow{T,R,L}
lateral.river =&gt; struct SurfaceFlow{T,R,L}
lateral.river.lake =&gt; struct NaturalLake{T} # optional
lateral.river.reservoir =&gt; struct SimpleReservoir{T} # optional</code></pre><h3 id="config_sbm_gwf_lie_river"><a class="docs-heading-anchor" href="#config_sbm_gwf_lie_river">SBM + Local inertial river</a><a id="config_sbm_gwf_lie_river-1"></a><a class="docs-heading-anchor-permalink" href="#config_sbm_gwf_lie_river" title="Permalink"></a></h3><p>By default the model types <code>sbm</code> and <code>sbm_gwf</code> use the kinematic wave approach for river flow. There is also the option to use the local inertial model for river flow with an optional 1D floodplain schematization (routing is done separately for the river channel and floodplain), by providing the following in the TOML file:</p><pre><code class="language-toml hljs">[model]
river_routing = &quot;local-inertial&quot;    # optional, default is &quot;kinematic-wave&quot;
floodplain_1d = true                # optional, default is false</code></pre><p>Only the mapping for the river component changes, as shown below. For an explanation about the type parameters between curly braces after the <code>struct</code> name see the section on the model parameters.</p><pre><code class="language-julia hljs">lateral.river =&gt; struct ShallowWaterRiver{T,R,L}</code></pre><h3 id="config_sbm_gwf_lie_river_land"><a class="docs-heading-anchor" href="#config_sbm_gwf_lie_river_land">SBM + Local inertial river (1D) and land (2D)</a><a id="config_sbm_gwf_lie_river_land-1"></a><a class="docs-heading-anchor-permalink" href="#config_sbm_gwf_lie_river_land" title="Permalink"></a></h3><p>By default the model types <code>sbm</code> and <code>sbm_gwf</code> use the kinematic wave approach for river and overland flow. There is also the option to use the local inertial model for 1D river and 2D overland flow, by providing the following in the TOML file:</p><pre><code class="language-toml hljs">[model]
river_routing = &quot;local-inertial&quot;
land_routing = &quot;local-inertial&quot;</code></pre><p>The mapping for the river and land component changes, as shown below. For an explanation about the type parameters between curly braces after the <code>struct</code> name see the section on the model parameters.</p><pre><code class="language-julia hljs">lateral.river =&gt; struct ShallowWaterRiver{T,R,L}
lateral.land =&gt; struct ShallowWaterLand{T}</code></pre><p>The local inertial approach is described in more detail in the section <a href="../lateral/local-inertial/#local_inertial">Local inertial model</a>.</p><h2 id="config_sediment"><a class="docs-heading-anchor" href="#config_sediment">wflow_sediment</a><a id="config_sediment-1"></a><a class="docs-heading-anchor-permalink" href="#config_sediment" title="Permalink"></a></h2><p>The processes and fate of many particles and pollutants impacting water quality at the catchment level are intricately linked to the processes governing sediment dynamics. Both nutrients such as phosphorus, carbon or other pollutants such as metals are influenced by sediment properties in processes such as mobilization, flocculation or deposition. To better assert and model water quality in inland systems, a better comprehension and modelling of sediment sources and fate in the river is needed at a spatial and time scale relevant to such issues.</p><p>The wflow_sediment model was developed to answer such issues. It is a distributed physics-based model, based on the distributed hydrologic wflow_sbm model. It is able to simulate both land and in-stream processes, and relies on available global datasets, parameter estimation and small calibration effort.</p><p>In order to model the exports of terrestrial sediment to the coast through the Land Ocean Aquatic Continuum or LOAC (inland waters network such as streams, lakes...), two different modelling parts were considered. The first part, called the inland sediment model, is the modelling and estimation of soil loss and sediment yield to the river system by land erosion, separated into vertical <a href="../vertical/sediment/#Soil-Erosion">Soil Erosion</a> processes and lateral <a href="../lateral/sediment_flux/#Sediment-Flux-in-overland-flow">Sediment Flux in overland flow</a>. The second part, called the <a href="../lateral/sediment_flux/#River-Sediment-Model">River Sediment Model</a> is the transport and processes of the sediment in the river system. The two parts together constitute the wflow_sediment model.</p><p>Overview of the concepts of the wflow_sediment model: <img src="../../images/wflow_sediment.png" alt="wflow_sediment"/></p><h3 id="Configuration"><a class="docs-heading-anchor" href="#Configuration">Configuration</a><a id="Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration" title="Permalink"></a></h3><p>As sediment generation and transport processes are linked to the hydrology and water flows, the inputs to the wflow_sediment model come directly from a hydrological model. The required dynamic inputs to run wflow_sediment are:</p><ul><li>Precipitation (can also come from the hydrological forcing data),</li><li>Land runoff (overland flow) from the kinematic wave,</li><li>River runoff from the kinematic wave,</li><li>Land water level in the kinematic wave,</li><li>River water level in the kinematic wave,</li><li>Rainfall interception by the vegetation.</li></ul><p>These inputs can be obtained from wflow_sbm or from other sources.</p><p>Model outputs can be saved for both the inland and the instream part of the model. Some examples are listed below.</p><pre><code class="language-toml hljs">[output.vertical]
# Soil splash erosion [ton]
sedspl = &quot;sedspl&quot;
# Soil erosion by overland flow [ton]
sedov = &quot;sedov&quot;
# Total soil loss [ton]
soilloss = &quot;soilloss&quot;
# Total transport capacity of overland flow [ton]
TCsed = &quot;TCsed&quot;
# Transport capacity per particle class (clay) [ton]
TCclay = &quot;TCclay&quot;

[output.lateral.land]
# Total (or per particle class) sediment flux in overland flow [ton]
olsed = &quot;olsed&quot;
olclay = &quot;olclay&quot;
# Total (or per particle class) sediment yield to the river [ton]
inlandsed = &quot;inlandsed&quot;
inlandclay = &quot;inlandclay&quot;

[output.lateral.river]
# Total sediment concentration in the river (suspended + bed load) [kg/m3]
Sedconc = &quot;Sedconc&quot;
# Suspended load [kg/m3]
SSconc = &quot;SSconc&quot;
# Bed load [kg/m3]
Bedconc = &quot;Bedconc&quot;</code></pre><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><ul><li>Köhler, L., Mulligan, M., Schellekens, J., Schmid, S., Tobón, C., 2006, Hydrological impacts of converting tropical montane cloud forest to pasture, with initial reference to northern Costa Rica. Final Technical Report DFID‐FRP Project No. R799.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../intro/">« About the model documentation</a><a class="docs-footer-nextpage" href="../vertical/sbm/">SBM »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 17 September 2024 05:51">Tuesday 17 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
